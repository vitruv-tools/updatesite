# Vitruv Update Sites

## Provided Top Level Update Sites

Nightly: [https://vitruv-tools.github.io/updatesite/nightly/aggregated](https://vitruv-tools.github.io/updatesite/nightly/aggregated)
Release: [https://vitruv-tools.github.io/updatesite/release](https://vitruv-tools.github.io/updatesite/release)

## Purpose
This repository provides different update sites for the Vitruv artifacts.
It only holds the deployed data (i.e., the packaged plugins, features etc.) and triggers the build of aggregated update sites (see [https://github.com/vitruv-tools/Vitruv-Build-AggregatedUpdateSite](https://github.com/vitruv-tools/Vitruv-Build-AggregatedUpdateSite)) upon deployment of new artifacts.
It provides the artifacts via GitHub Pages available at [https://vitruv-tools.github.io/updatesite/](https://vitruv-tools.github.io/updatesite/) (with the two update site for nightly and release builds begin child URLs as given at the top).

## Structure
The repository is, at the top level, structured along `nightly` and `release` artifacts.
Below, individual update sites for each of our repositories (such as `Vitruv-Change` or `Vitruv-DSLs`) are provided, each in its own subfolder. This means, 

Each Vitruv repository deploys its generated artifacts to a dedicated update site in the `https://vitruv-tools.github.com/updatesite` repository.
Nightly artifacts are placed in `nightly/${REPOSITORY_SUBFOLDER}` with `${REPOSITORY_SUBFOLDER}` being a (custom) path to a folder for a repository and release artifacts are placed in `release/${REPOSITORY_SUBFOLDER}/${VERSION}` with `${REPOSITORY_SUBFOLDER}` being a (custom) path to a folder for a repository (the same as for the nightly update site of that repository) and `${VERSION}` being the release version.

Those update sites only contain the artifacts generated from one repository. They do not contain the dependencies of those artifacts.
An aggregated update site that is build from the individual update sites and contains all the artifacts of the individual update sites and references to update sites containing the required dependencies is generated by calling the workflow in [https://github.com/vitruv-tools/Vitruv-Build-AggregatedUpdateSite](https://github.com/vitruv-tools/Vitruv-Build-AggregatedUpdateSite) and placing the generated artifacts in an `aggregated` subfolder of `nightly` and `release` (currently only the former is implemented).
In consequence, the aggregated update can be used to install any Vitruv artifact with all its dependencies.

# Artifacts
This repository contains two kinds of artifacts:
1. The update site artifacts structured along `nightly` and `release`.
3. A GitHub Actions workflow that executes the workflow in [https://github.com/vitruv-tools/Vitruv-Build-AggregatedUpdateSite](https://github.com/vitruv-tools/Vitruv-Build-AggregatedUpdateSite) for generating and deploying an aggregated update site. It is triggered upon pushing commits to the `main` branch.
